function render_248(nativeObj, targetId) {
function standardizeNativeObj (nativeObj) {
    return {
        type: nativeObj.type,
        title: nativeObj.title,
        body: nativeObj.body || nativeObj.desc,
        desc2: nativeObj.desc2,
        fullText: nativeObj.fullText || nativeObj.full_text,
        icon: nativeObj.icon,
        image: nativeObj.image || nativeObj.main_img,
        cta: nativeObj.cta || nativeObj.ctatext,
        sponsoredBy: nativeObj.sponsoredBy || nativeObj.sponsored,
        impressionTrackers: nativeObj.impressionTrackers || nativeObj.impression_trackers,
        clickTrackers: nativeObj.clickTrackers || (nativeObj.link && nativeObj.link.click_trackers),
        clickUrl: nativeObj.clickUrl || (nativeObj.link && nativeObj.link.url),
        clickFallbackUrl: nativeObj.clickFallbackUrl || (nativeObj.link && nativeObj.link.fallback_url),
        javascriptTrackers: nativeObj.javascriptTrackers || nativeObj.javascript_trackers,
        video: nativeObj.video,
        privacyLink: nativeObj.privacyLink || nativeObj.privacy_link,
        rating: nativeObj.rating,
        displayUrl: nativeObj.displayUrl || nativeObj.displayurl,
        likes: nativeObj.likes,
        downloads: nativeObj.downloads,
        price: nativeObj.price,
        salePrice: nativeObj.salePrice || nativeObj.saleprice,
        phone: nativeObj.phone,
        address: nativeObj.address,

        customTitle1: nativeObj.customTitle1 || nativeObj.title1,
        customTitle2: nativeObj.customTitle2 || nativeObj.title2,
        customTitle3: nativeObj.customTitle3 || nativeObj.title3,
        customTitle4: nativeObj.customTitle4 || nativeObj.title4,
        customTitle5: nativeObj.customTitle5 || nativeObj.title5,

        customBody1: nativeObj.customBody1 || nativeObj.body1,
        customBody2: nativeObj.customBody2 || nativeObj.body2,
        customBody3: nativeObj.customBody3 || nativeObj.body3,
        customBody4: nativeObj.customBody4 || nativeObj.body4,
        customBody5: nativeObj.customBody5 || nativeObj.body5,

        customCta1: nativeObj.customCta1 || nativeObj.ctatext1,
        customCta2: nativeObj.customCta2 || nativeObj.ctatext2,
        customCta3: nativeObj.customCta3 || nativeObj.ctatext3,
        customCta4: nativeObj.customCta4 || nativeObj.ctatext4,
        customCta5: nativeObj.customCta5 || nativeObj.ctatext5,

        customDisplayUrl1: nativeObj.customDisplayUrl1 || nativeObj.displayurl1,
        customDisplayUrl2: nativeObj.customDisplayUrl2 || nativeObj.displayurl2,
        customDisplayUrl3: nativeObj.customDisplayUrl3 || nativeObj.displayurl3,
        customDisplayUrl4: nativeObj.customDisplayUrl4 || nativeObj.displayurl4,
        customDisplayUrl5: nativeObj.customDisplayUrl5 || nativeObj.displayurl5,

        customSocialUrl1: nativeObj.customSocialUrl1 || nativeObj.socialurl1,
        customSocialUrl2: nativeObj.customSocialUrl2 || nativeObj.socialurl2,
        customSocialUrl3: nativeObj.customSocialUrl3 || nativeObj.socialurl3,
        customSocialUrl4: nativeObj.customSocialUrl4 || nativeObj.socialurl4,
        customSocialUrl5: nativeObj.customSocialUrl5 || nativeObj.socialurl5,

        customImage1: nativeObj.customImage1 || nativeObj.image1,
        customImage2: nativeObj.customImage2 || nativeObj.image2,
        customImage3: nativeObj.customImage3 || nativeObj.image3,
        customImage4: nativeObj.customImage4 || nativeObj.image4,
        customImage5: nativeObj.customImage5 || nativeObj.image5,

        customIcon1: nativeObj.customIcon1 || nativeObj.icon1,
        customIcon2: nativeObj.customIcon2 || nativeObj.icon2,
        customIcon3: nativeObj.customIcon3 || nativeObj.icon3,
        customIcon4: nativeObj.customIcon4 || nativeObj.icon4,
        customIcon5: nativeObj.customIcon5 || nativeObj.icon5,

        customSocialIcon1: nativeObj.customSocialIcon1 || nativeObj.socialicon1,
        customSocialIcon2: nativeObj.customSocialIcon1 || nativeObj.socialicon2,
        customSocialIcon3: nativeObj.customSocialIcon1 || nativeObj.socialicon3,
        customSocialIcon4: nativeObj.customSocialIcon1 || nativeObj.socialicon4,
        customSocialIcon5: nativeObj.customSocialIcon1 || nativeObj.socialicon5
    };
}

nativeObj = standardizeNativeObj(nativeObj || {});

var content = '';
var targetContainer = document.getElementById(targetId);
var _getField = function(prop){
    return prop.split('.').reduce(function(a, b) { return a ? a[b] : undefined; }, nativeObj) || '';
};

content += '<div\r\n                class=\"apasad\"\r\n                data-click-uri=\"'+ _getField('clickUrl') + '\"\r\n                data-image-uri=\"'+ _getField('image.url') + '\"\r\n                data-title=\"'+ _getField('title') + '\"\r\n                data-body=\"'+ _getField('body') + '\"\r\n                data-alt-text=\"'+ _getField('custom-Title-1') + '\"\r\n><\/div>\r\n\r\n\r\n\r\n\r\n\r\n';


targetContainer.innerHTML += content;


(function(impTrackers){
    for(var i = 0; i < impTrackers.length; i++) {
        var url = impTrackers[i];
        var img = document.createElement('img');

        img.src = url;
        img.height = 1;
        img.width = 1;
        img.style.display = 'none';

        document.body.appendChild(img);
    }
})(nativeObj.impressionTrackers || []);
(function(javascriptTrackers){
    var parseJsTrackers = function(str) {
        var urls = [], regex = /(?:<script.+?)(?:src=\")(.+?)\".*?><\/script>/g, result;
        while((result = regex.exec(str)) !== null) {
            urls.push(result[1]);
        }
        return urls;
    };

    var jsTrackers = parseJsTrackers(javascriptTrackers) || [];

    for(var i = 0; i < jsTrackers.length; i++) {
        var d = document, scr = d.createElement('script'), tar = d.getElementsByTagName('head')[0];
        scr.type = 'text/javascript'; scr.async = true;
        scr.src = jsTrackers[i];
        tar.insertBefore(scr, tar.firstChild);
    }
})(nativeObj.javascriptTrackers || '');
(function(clickTrackers){
    var $clickable = Array.prototype.slice.apply(targetContainer.getElementsByTagName('a'));
    var fireRequest = function(url) {
        var request = new XMLHttpRequest();
        request.open('GET', url);
        request.send();
    };
    for(var i = 0; i < $clickable.length; i++) {
        $clickable[i].addEventListener('click', function() {
            for(var j = 0; j < clickTrackers.length; j++) {
                fireRequest(clickTrackers[j]);
            }
        });
    }
})(nativeObj.clickTrackers || []);
}

if (window.apntag && window.apntag.registerRenderer) {
    apntag.registerRenderer('248', {
        renderAd: function(currentTag, handleEventCallback){
            function handler(adObj) {
                render_248(adObj['native'], adObj.targetId);
            }
            apntag.onEvent('adLoaded', currentTag.targetId, handler);
            handleEventCallback(currentTag.targetId, 'adLoaded');
        }
    });
}